mixin workspaceOutputs()
  .form-group.workspace-address(
      ng-show="workspace.showUrl !== false || output.showUrl"
    )
      .input-group(
        data-intro="Here you can control the URL of your output" data-position="bottom"
        )
        .input-group-btn
          button.btn(
            ng-class="{'btn-success': requiresRefresh, 'btn-def': !requiresRefresh}",
            ng-click="requiresRefresh ? updateContentUrl() : refreshIframe(output.contentUrl)"
            )
            span.fa.fa-refresh
        .form-control.address-bar
          div {{ output.urlBase }}
          input.form-control(
              type="text", 
              ng-model="workspace.url",
              ng-keypress="urlKeyPress($event, $parent, output.urlBase + workspace.url);",
              ng-blur="workspace.permaUrl = workspace.url"
            )
        .input-group-btn
          a.btn(
            title="Open Your Page in New Window",
            ng-href="{{ output.contentUrl }}", 
            target="_blank", 
            analytics-event="workspace-newWindow",
            analytics-category="workspace")
                span.fa.fa-external-link

                  
  .text-center.margin-top-20(
    ng-if="isDead === true"
    )
    h1.text-danger
      span.fa.fa-power-off
    h4.text-muted No server at {{output.urlBase}}
  .slide-workspace-outputs.full-height(
      ng-if="isDead === false"
      ng-class="{'with-address': workspace.showUrl !== false || output.showUrl, 'sw-outputs-scaled': $root.performance.indexOf('workspace_output_scalling') !== -1}")
    iframe.iframe-fiddle-output.scrollable-container(
      ng-class="{'frame-background': workspace.withBackground}")
    iframe.iframe-fiddle-output.scrollable-container(
        ng-show="!workspace.singleOutput && $root.performance.indexOf('workspace_output_noanim') === -1",
        ng-class="{'frame-background': workspace.withBackground}")

.full-height.slide-workspace-output2(
    ng-animate,
    ng-class="{'slide-workspace-output-dialog' : outputDialog}"
  )
  a.cursor-pointer.expand-btn.text-muted(
      ng-click="outputDialog = !outputDialog")
    span.fa.fa-expand(ng-hide="outputDialog")
    span.fa.fa-compress(ng-show="outputDialog")

  .loading-spinner(ng-if="isWaiting")
    span.fa.fa-spin.fa-spinner.fa-3x
  .refresh-button(
        ng-hide="workspace.showUrl !== false || output.showUrl",
        ng-if="$root.performance.indexOf('workspace_output_noauto') !== -1"
      )
    button.btn.btn-xs.btn-success(
      ng-click="updateContentUrl()", 
      ng-show="requiresRefresh")
      span.fa.fa-refresh.fa-2x

  .full-height(ng-if="slide.serverRunner !== 'expressjs'")
    +workspaceOutputs 
  .full-height(ng-if="slide.serverRunner === 'expressjs' && !outputInCols")
    .sw-row(ng-style="{height: output.topSizeFrame}")
      .overlay(ng-if="output.dragActive")
      +workspaceOutputs 
    sw-splitter(left="output.topSizeFrame", right="output.bottomSizeFrame", drag-active="output.dragActive", is-row="true")
    .sw-row(ng-style="{height: output.bottomSizeFrame}")
      slide-jsonoutput.full-size(data="true", context="slide")
  .full-height(ng-if="slide.serverRunner === 'expressjs' && outputInCols")
    .sw-col.full-height(ng-style="{width: output.leftSizeFrame}")
      .overlay(ng-if="output.dragActive")
      +workspaceOutputs 
    sw-splitter(left="output.leftSizeFrame", right="output.rightSizeFrame", drag-active="output.dragActive")
    .sw-col.full-height(ng-style="{width: output.rightSizeFrame}")
      slide-jsonoutput.full-size(data="true", context="slide")



